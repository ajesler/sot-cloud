<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Clouds</title>

		<meta name="author" content="Andrew Esler">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

<!-- 
NOTES

http://www.cs.columbia.edu/~roxana/teaching/COMS-E6998-7-Fall-2011/papers/armbrust-tr09.pdf
http://amy.palamounta.in/2012/10/26/ten-traumas-in-ten-minutes/
-->

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

<section>
	<h1>The Cloud</h1>
</section>

<section>
	<h3>latest tech fad?</h3>
</section>

<section data-transition="fade">
	<blockquote cite="http://www.technologyreview.com/news/425623/the-cloud-imperative/">
		&ldquo;Computing may someday be organized as a public utility just as the telephone system is a public utility, each subscriber needs to pay only for the capacity he actually uses, but he has access to all programming languages characteristic of a very large system&rdquo;
	</blockquote>

	<br />

	<blockquote cite="http://www.technologyreview.com/news/425623/the-cloud-imperative/">
		&ldquo;The computer utility could become the basis of a new and important industry.&rdquo;
	</blockquote>

	<br />

	<p>John McCarthy</p>
</section>

<section data-transition="fade">
	<h1>1961</h1>
	<aside class="notes">
		The year of John McCarthy's speech.
	</aside>
</section>

<section data-transition="fade">
	<h2>29 October, 1969</h2>
	<aside class="notes">
        The date two nodes of what would go on to become APRANET were connected. 
    </aside>
</section>

<section>
	<h2>1997</h2>
	<p>Term "cloud computing" first used by Professor Ramnath Chellappa</p>
</section>

<section>
	<h2>Characteristics</h2>

	<ul>
		<li class="fragment">On demand self service</li>
		<li class="fragment">Broad network access</li>
		<li class="fragment">Resource pooling</li>
		<li class="fragment">Rapid elasticity</li>
		<li class="fragment">Measured service</li>
	</ul>

	<p class="fragment"><small>
		Using the <a href="www.nist.gov" title="National Institute of Standards and Technology">NIST</a> <a href="http://csrc.nist.gov/publications/nistpubs/800-145/SP800-145.pdf">definition</a> of cloud computing
	</small></p>
</section>

<section>
	<h2>Resources on demand!</h2>
</section>

<section>
	<h3>Resources?</h3>

	<ul>
		<li class="fragment">Compute</li>
		<li class="fragment">Storage</li>
		<li class="fragment">Network</li>
		<li class="fragment">Telephony</li>
		<li class="fragment">Queueing, Caching, Database, etc...</li>
	</ul>
</section>

<section>
	<h3>*aaS's</h3>
	<ul>
		<li class="fragment">SaaS</li>
		<li class="fragment">PaaS</li>
		<li class="fragment">IaaS</li>
	</ul>
	 <aside class="notes">
        Service models

		IaaS: Google Compute Cloud, Amazon EC2, Microsoft Azure, Rackspace Cloud, GoGrid
		PaaS: VMWare CloudFoundry, Google App Engine, Amazon Elastic Beanstalk, Force.com, Redhat Openshift, Heroku, Cloud Services for Windows Azure
		SaaS: Google Apps, Zendesk, Twilio
    </aside>
</section>

<section>
	<h2>Why is cloud computing popular?</h2>
</section>

<section>
	<h3>Agility</h3>
	<aside class="notes">
		Enables rapid prot
	</aside>
</section>

<section>
	<h3>Reduces costs</h3>
	<aside class="notes">
		No need to purchase hardware prior to a project.
		You don't need to know how much capacity you need up front.
		May reduce staff, admin, and licensing costs.
	</aside>
</section>

<section>
	<h3>Elasticity</h3>
	<aside class="notes">
		Scale to cope with variable workloads
		No need to spend money on resources that are only there to handle peak loads
		Autoscaling - avoid the slashdot effect without human intervention.
	</aside>
</section>

<section>
	<h2>For developers</h2>
	<aside class="notes">
		
	</aside>
</section>

<section data-transition="fade">
	<h3>Instant Resources</h3>
</section>

<section>
	For a developer, it allows:
	instant resources
	rapid iteration and prototyping
	scaling up and scaling out - survive the slashdot effect - can set up systems to do this automatically.
	git push to deploy code? You will do this shortlyish.
	automatable - automate your server set up. eg spidertracks infrastructure can be recreated in one command. Automation drives standardisation?
	automate build, test, and deploy. continuous*
	reduces cost - many providers offer a free tier. eg aws, heroku, etc. Great for students like yourselves. Ask for educational credit, eg Amazon. Some give credit for reporting bugs, doc mistakes, eg Twilio. 
</section>

<section>
	Individual components fail!
	<!-- 
	When you are dealing with large scale, things will fail
	-->
	Expect this and design for it
</section>

<section>
	Redundancy
	Fault tolerance

	Avoid SPOF!

	State bad, cluster good

	DNS issues - eg godaddy issue that meant lots of sites failed to resolve.
	Have a plan! 
	Go through all steps of a customer getting from them to you. What can break? Can you fix or mitigate?
</section>

<section>
	Architecting with for the cloud
	Design with scalability and clustering built in. Services fail, nodes are added or removed, should be negligable impact on your system.
	Data: Partition and cache.
	Reduce state? Makes app more compatible with clustering.
</section>

<section>
	Your cloud services providers is a single point of failure.
	eg Megaupload, Lavabit.

	<aside class="notes">
		Megaupload - established 2005, seized Jan 2012, allegedly dedicated to copyright infringement. Still unresolved. Paying customers lost data.
		Lavabit - An encrypted mail service shut down by operator a few days ago because they did not want to "become complicit in crimes against the American people". Cannot legally say why.
	</aside>
</section>

<section>
	Who are the big players in the cloud space? What do they provide?
</section>

<section>
	Downsides to the cloud:
	- Providers fail - if there are issues, there is often nothing you can do on your end to fix it. Have to wait for provider. 
	- transient errors
	- need a good monitoring system
	- Devs may not understand system administration and leave services exposed, systems open, etc.
	- May not fully understand software before it is deployed. Easy to get started sometimes, but not always configured for production. eg software intro tuts - more applies to IaaS
	vendor lock in - use abstraction layers, eg fog, to avoid this problem.
		@ammeep "If you dont own it, abstract away the details."
</section>

<section>
	Data loss? What can you do without access?
	Reduce risk by backing up to another provider?

	Backup and recovery strategy? 
	How do you restore your data? test this (stage is useful at this point)
	Ensure every node is being looked after.
</section>

<section>
	Security

	Does your industry have any requirements about how data can be stored? Govt clouds, HIPAA, etc. Do you have to provide an audit trail?
	Are you allowed to store it offshore / in an unknown place?

	Do trust the cloud service provider to get it right? Encrypt data?
	Security breaches not always reported? Are they under any obligation to tell you if one happens?
</section>

<section>
	Privacy
	USA Patriot act allows us govt to request data from US based companies.

	PRISM - cooperation of google, microsoft, yahoo, etc in making data available to US govt.
</section>

<section>
	How can you contact support?
</section>

<section>
	Cloud providers will fail. Split your resources usage between data centers and providers if appropriate.
	AWS, AppEngine, and Gmail have all had outages.
</section>

<section>
	<h3>How do you test the cloud?</h3>

	Test locally as much as possible.
	Unit tests, obviously.

	<p class="fragment">Simian Army</p>
	<div class="fragment">
		<a href="https://github.com/Netflix/SimianArmy">Simian Army</a> on GitHub
		<a href="http://techblog.netflix.com/2011/07/netflix-simian-army.html">Neflix explains the Simian Army</a>
	</div>

	<aside class="notes">
		Simian army is a set of programs that can be run against your AWS infrastructure.
		Doctor checks health of nodes. 
		Janitor - removes unused resources. 
		Conformity - ensures best practices are used 
		Latency - simlates latency on services
		Security - violations or vulnerabilities
		Chaos Monkey randomly terminates instances.
		Chaos Gorilla kills an entire availability zone. 

		Netflix has opensourced a lot of software, much of it related to AWS and java. 
	</notes>
</section>

<section>
	A lot of cloud providers have APIs. 
	You may be able to test with an integrated API console, eg twilio

	Testing against cloud providers when using webhooks require your machine is internet addressable. 
	Solutions:
		- localtunnel and its ilk
		- Use ssh to pipe traffic between local machine and a machine that is already internet addressable. 

	Running an application on your local machine means it is easier to debug and monitor what is happening. 
</section>

<section>
	Monitoring
	 
	Now your cloud application is up and running, how do you keep an eye on its health?

	Lots of standard monitoring tools. Many providers also provide there own monitoring systems.

	Dashboards are good. Graphs / Metrics should provide an easy to read view of system health. 
	Log aggregation - this is important. Dont leave logs sitting on the node. What happens if it bugs out and crashes, corrupting drive. You will never find out what happened. Fortunately, you can just start a new node, but its nice to know what failed. 
	
	Design with logging in mind. Where will logs go? How long will they be kept for?
	How can they be accessed? Are they searchable?

	Cloud means that many different machines may be involved in the handling of a request / action. It pays to be able to follow the processing through. 

	Spidertracks uses log4j + graylog. Provides searching and real time monitoring of logs. Logs are also archived long term in Amazon S3. 

	Dont leave this till after your application is live to figure out!

	Different priorities of logging. Some entries only relevant for a short time, some relevant forever, eg audit trail of user actions. Great help to support when you can say exactly what a user did and when. 

	Set up email / sms alerts. Get told as soon as something funky happens, dont wait to be told by customers. 
</section>

<section>
	Diagnostics / Remote monitoring. 

	Probably a separate category from monitoring. 
	JMX, custom admin dashboards. Actions on the system or individual node. 
	How do you remote debug? Think about this before you deploy. If you have a bug you cannot reproduce locally, then sometimes access to prod / stage can be very helpful. 

	Script all the things! knife can be very useful for certain tasks. 
</section>

<section>
	Have a staging and/or test environment. Even if it doesnt run continuously. Having somewhere to test changes on a live system is very helpful. Automate creation/starting/stopping of test/stage.
</section>

<section>
	<h1>DEMO TIME</h1>
</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: false,
				history: true,
				center: true,

				theme: 'default', // available themes are in /css/theme
				transition: 'concave', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
